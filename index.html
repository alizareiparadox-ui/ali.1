<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù¾ÛŒØ´Ø±ÙØª Ø´Ø®ØµÛŒ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #e63946;
            --bg-color: #f8f9fa;
            --card-color: #ffffff;
            --text-color: #2b2d42;
            --border-color: #e9ecef;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .date-display {
            font-size: 1.3rem;
            color: #666;
            margin: 15px 0;
            font-weight: 600;
        }

        .main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255,255,255,0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
        }

        .task-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .task-item:hover {
            background: rgba(0,0,0,0.02);
            border-radius: 8px;
            padding: 12px 10px;
        }

        .task-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .task-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--success);
        }

        .task-label {
            font-size: 1rem;
            flex: 1;
        }

        .counter {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .counter-btn {
            width: 32px;
            height: 32px;
            border: none;
            background: var(--primary);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .counter-btn:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }

        .counter-value {
            min-width: 50px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .progress-container {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: var(--border-color);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success), var(--primary));
            transition: width 0.5s ease;
            width: 0%;
        }

        .workout-exercise {
            background: rgba(67, 97, 238, 0.05);
            border-radius: 10px;
            padding: 10px;
            margin: 8px 0;
        }

        .exercise-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .exercise-sets {
            font-size: 0.85rem;
            color: #666;
        }

        .reset-btn {
            background: linear-gradient(135deg, var(--warning), var(--danger));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 20px;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(247, 37, 133, 0.4);
        }

        .chart-container {
            background: rgba(255,255,255,0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .card {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù¾ÛŒØ´Ø±ÙØª Ø´Ø®ØµÛŒ</h1>
            <div class="date-display" id="currentDate">Ø§Ù…Ø±ÙˆØ²: Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
            <div class="progress-container">
                <div class="progress-info">
                    <span>Ù¾ÛŒØ´Ø±ÙØª Ú©Ù„ÛŒ Ø§Ù…Ø±ÙˆØ²:</span>
                    <span id="overallProgressText">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="overallProgress"></div>
                </div>
            </div>
        </header>

        <div class="main-grid">
            <!-- Ø¨Ø®Ø´ Ù…Ø·Ø§Ù„Ø¹Ø§ØªÛŒ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ“š Ú©Ù†Ú©ÙˆØ± Ùˆ ÙØ±Ù‡Ù†Ú¯ÛŒØ§Ù†</h2>
                    <span>ğŸ¯</span>
                </div>
                <div id="studyTasks"></div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø®Ø´:</span>
                        <span id="studyProgressText">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="studyProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ“± Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</h2>
                    <span>ğŸ“ˆ</span>
                </div>
                <div id="instagramTasks"></div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø®Ø´:</span>
                        <span id="instagramProgressText">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="instagramProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ ØªØºØ°ÛŒÙ‡ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ ØªØºØ°ÛŒÙ‡</h2>
                    <span>ğŸ’ª</span>
                </div>
                <div id="nutritionTasks"></div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø®Ø´:</span>
                        <span id="nutritionProgressText">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="nutritionProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Ø¨Ø®Ø´ ÙˆØ±Ø²Ø´ -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ğŸ’ª ÙˆØ±Ø²Ø´</h2>
                    <span>ğŸ”¥</span>
                </div>
                <div id="workoutContent"></div>
                <div class="progress-container">
                    <div class="progress-info">
                        <span>Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø®Ø´:</span>
                        <span id="workoutProgressText">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="workoutProgress"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ù†Ù…ÙˆØ¯Ø§Ø± Ù¾ÛŒØ´Ø±ÙØª Ù…Ø§Ù‡Ø§Ù†Ù‡ -->
        <div class="chart-container">
            <h2 style="text-align: center; margin-bottom: 20px; color: var(--primary);">ğŸ“Š Ù†Ù…ÙˆØ¯Ø§Ø± Ù¾ÛŒØ´Ø±ÙØª Ù…Ø§Ù‡Ø§Ù†Ù‡</h2>
            <canvas id="progressChart"></canvas>
        </div>

        <button class="reset-btn" onclick="resetDay()">ğŸ”„ Ø±ÛŒØ³Øª Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù…Ø±ÙˆØ²</button>
    </div>

    <script>
        // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø±Ù†Ø§Ù…Ù‡
        const appData = {
            study: [
                { id: 'study1', label: 'ÛŒÚ© Ø¯Ø±Ø³ Ù†Ù‡Ø§ÛŒÛŒ', checked: false, type: 'checkbox' },
                { id: 'study2', label: 'ÛŒÚ© ØµÙØ­Ù‡ Ú©Ù†Ø¯Ø®ÙˆØ§Ù†ÛŒ Ùˆ ØªÙ†Ø¯Ø®ÙˆØ§Ù†ÛŒ', checked: false, type: 'checkbox' },
                { id: 'study3', label: 'ÛŒÚ© ØµÙØ­Ù‡ Ù‚Ø±Ø¢Ù†', checked: false, type: 'checkbox' },
                { id: 'study4', label: '10 ØªØ³Øª Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ø±Ø³ ÙÛŒÙ„Ù…', checked: false, type: 'checkbox' },
                { id: 'study5', label: 'Ø¯Ùˆ Ø¹Ø¯Ø¯ ÙÛŒÙ„Ù… Ø¢Ù…ÙˆØ²Ø´ÛŒ', checked: false, type: 'checkbox' },
                { id: 'study6', label: '5 ØµÙØ­Ù‡ Ú©ØªØ§Ø¨ ÙØ±Ù‡Ù†Ú¯ÛŒØ§Ù†', checked: false, type: 'checkbox' },
                { id: 'study7', label: 'ØªØ³Øª Ø¨Ø®Ø´ ÙØ±Ù‡Ù†Ú¯ÛŒØ§Ù†', checked: false, type: 'checkbox' }
            ],
            instagram: [
                { id: 'ig1', label: 'ÙØ§Ù„Ùˆ Ù¾ÛŒØ¬ Ù…Ù…Ø¯ (80)', value: 0, target: 80, type: 'counter' },
                { id: 'ig2', label: 'ÙØ§Ù„Ùˆ Ù¾ÛŒØ¬ Ø³Ø§Ø±Ø§/ÙˆÛŒØ¯Ø§ (80)', value: 0, target: 80, type: 'counter' },
                { id: 'ig3', label: 'ÙØ§Ù„Ùˆ Ù¾ÛŒØ¬ Ù…Ø°Ù‡Ø¨ÛŒ (80)', value: 0, target: 80, type: 'counter' },
                { id: 'ig4', label: 'Ù¾Ø³Øª Ø¯Ø± 3 Ù¾ÛŒØ¬ Ø³Ø±ÛŒØ¹', checked: false, type: 'checkbox' }
            ],
            nutrition: [
                { id: 'nut1', label: 'ØªØºØ°ÛŒÙ‡ Ø¨Ø§Ø´Ú¯Ø§Ù‡', checked: false, type: 'checkbox' },
                { id: 'nut2', label: 'ØµØ¨Ø­Ø§Ù†Ù‡ Ú©Ø§Ù…Ù„', checked: false, type: 'checkbox' },
                { id: 'nut3', label: '2 Ù…ÛŒÙˆÙ‡ Ù‚Ø¨Ù„ ØµØ¨Ø­Ø§Ù†Ù‡', checked: false, type: 'checkbox' },
                { id: 'nut4', label: 'Ù†Ø§Ù‡Ø§Ø± (2 Ø¨Ø´Ù‚Ø§Ø¨)', checked: false, type: 'checkbox' },
                { id: 'nut5', label: 'Ø¹ØµØ±Ø§Ù†Ù‡ (Ø¨Ø§Ù‚ÛŒ Ù†Ø§Ù‡Ø§Ø±/ØªØ®Ù… Ù…Ø±Øº/Ø³ÛŒØ¨ Ø²Ù…ÛŒÙ†ÛŒ)', checked: false, type: 'checkbox' },
                { id: 'nut6', label: 'Ø´Ø§Ù… Ú©Ø§Ù…Ù„', checked: false, type: 'checkbox' },
                { id: 'nut7', label: 'ÙˆØ¹Ø¯Ù‡ Ù‚Ø¨Ù„ Ø®ÙˆØ§Ø¨ (2 Ù…ÛŒÙˆÙ‡/Ø´ÛŒØ±)', checked: false, type: 'checkbox' }
            ],
            workout: {
                days: {
                    'Ø´Ù†Ø¨Ù‡': [
                        { id: 'sat1', name: 'Ø´Ù†Ø§ Ø¹Ø§Ø¯ÛŒ', sets: '100 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'sat2', name: 'Ø´Ù†Ø§ Ø¨Ø§Ù„Ø§', sets: '100 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'sat3', name: 'Ø´Ù†Ø§ Ù¾Ø§ÛŒÛŒÙ†', sets: '100 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'sat4', name: 'Ù¾Ø±Ø³ Ø³ÛŒÙ†Ù‡ Ø¹Ø§Ø¯ÛŒ', sets: '15 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sat5', name: 'Ú©ÙˆÙ„', sets: '15 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sat6', name: 'Ù¾Ø´Øª Ø´Ø§Ù†Ù‡', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false }
                    ],
                    'ÛŒÚ©Ø´Ù†Ø¨Ù‡': [
                        { id: 'sun1', name: 'Ø³Ø±Ø´Ø§Ù†Ù‡ Ø¹Ø§Ø¯ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun2', name: 'Ø³Ø±Ø´Ø§Ù†Ù‡ ÙˆÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun3', name: 'Ø³Ø±Ø´Ø§Ù†Ù‡ Ú†Ú©Ø´ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun4', name: 'Ø³Ø±Ø´Ø§Ù†Ù‡ Ø§Ø² Ø¨ØºÙ„', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun5', name: 'Ø³Ø±Ø´Ø§Ù†Ù‡ Ø§Ø² Ø¬Ù„Ùˆ', sets: '15 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun6', name: 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ø¹Ø§Ø¯ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun7', name: 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ù„Ø§Ø±ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 3 Ø³Øª', checked: false },
                        { id: 'sun8', name: 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ø³Ø§Ø¹Ø¯ Ú†Ø±Ø®Ø´ÛŒ', sets: '10 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun9', name: 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ù‡Ø§Ù„ØªØ±', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun10', name: 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ú†Ú©Ø´ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'sun11', name: 'Ø³Ø§Ø¹Ø¯', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false }
                    ],
                    'Ø¯ÙˆØ´Ù†Ø¨Ù‡': [
                        { id: 'mon1', name: 'Ø§Ø³ØªØ±Ø§Ø­Øª ÙˆØ±Ø²Ø´ÛŒ ğŸ‚ğŸª‚', sets: 'Ø±ÙˆØ² Ø§Ø³ØªØ±Ø§Ø­Øª ÙØ¹Ø§Ù„', checked: false }
                    ],
                    'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡': [
                        { id: 'tue1', name: 'Ø§Ø³Ú©Ø§Øª', sets: '15 15 12 12 10 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'tue2', name: 'Ø¬Ù„Ùˆ Ù¾Ø§ Ø±Ø§Ù‡ Ø±ÙØªÙ†', sets: '15 15 12 12 10 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'tue3', name: 'Ø¬Ù„Ùˆ Ù¾Ø§ Ø±ÙˆÛŒ Ù…Ø¨Ù„', sets: '12 12 10 10 ØªÚ©Ø±Ø§Ø±', checked: false },
                        { id: 'tue4', name: 'Ø¬Ù„Ùˆ Ù¾Ø§ ØªÚ© Ù¾Ø§', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'tue5', name: 'Ø¬Ù„Ùˆ Ù¾Ø§ Ø§Ø³Ú©Ø§Øª Ø¯Ø§Ø®Ù„ Ù¾Ø§', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'tue6', name: 'ÙÛŒÙ„Ù‡ Ú©Ù…Ø±', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'tue7', name: 'Ù¾Ø±Ø³ Ø³ÛŒÙ†Ù‡', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false }
                    ],
                    'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡': [
                        { id: 'wed1', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø¯Ø³Øª Ø¬Ù…Ø¹', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed2', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø¯Ø³Øª Ø¨Ø§Ø²', sets: '10 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed3', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø§ØµÙ„ÛŒ Ø¯Ø³Øª Ø¨Ø§Ø²', sets: '8 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed4', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø§ØµÙ„ÛŒ Ø¯Ø³Øª Ø¬Ù…Ø¹', sets: '6 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed5', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø¯Ù…Ø¨Ù„ Ú†Ú©Ø´ÛŒ', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed6', name: 'Ø²ÛŒØ± Ø¨ØºÙ„ Ø¯Ù…Ø¨Ù„ Ø¯Ø³Øª Ø¨Ø± Ø¹Ú©Ø³', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed7', name: 'Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ Ø®ÙˆØ§Ø¨ÛŒØ¯Ù‡', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed8', name: 'Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ Ø§ÛŒØ³ØªØ§Ø¯Ù‡ Ø¯Ù…Ø¨Ù„', sets: '10 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed9', name: 'Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ Ø·Ù†Ø§Ø¨', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed10', name: 'Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ Ø¨Ø§Ù„Ø§ÛŒ Ø³Ø±', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'wed11', name: 'Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ Ø±Ùˆ Ù¾Ø§Ø³ÛŒÙˆÙ†', sets: '12 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false }
                    ],
                    'Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡': [
                        { id: 'thu1', name: 'Ø´Ù†Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø³ÛŒÙ†Ù‡ Ø¯Ø³Øª Ø¹Ø§Ø¯ÛŒ', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'thu2', name: 'Ø´Ù†Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø³ÛŒÙ†Ù‡ Ø³Ø·Ø­ Ù¾Ø§ÛŒÛŒÙ† ØªØ±', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'thu3', name: 'Ø´Ù†Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø³ÛŒÙ†Ù‡ Ø¯Ø³Øª Ø¨Ø± Ø¹Ú©Ø³', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'thu4', name: 'Ø¯Ø±Ø§Ø² Ù†Ø´Ø³Øª', sets: '20 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false },
                        { id: 'thu5', name: 'Ø´Ú©Ù… Ù¾Ù‡Ù„Ùˆ', sets: '18 ØªÚ©Ø±Ø§Ø± Ã— 4 Ø³Øª', checked: false }
                    ],
                    'Ø¬Ù…Ø¹Ù‡': [
                        { id: 'fri1', name: 'ØªÙ…Ø±ÛŒÙ†Ø§Øª ØªÙ†ÙØ³ÛŒ', sets: 'Ø±ÙˆØ² Ø§Ø³ØªØ±Ø§Ø­Øª Ùˆ Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ', checked: false }
                    ]
                }
            },
            monthlyProgress: {}
        };

        // ØªØ§Ø±ÛŒØ® Ø¯Ù‚ÛŒÙ‚ ÙØ§Ø±Ø³ÛŒ
        function getPersianDate() {
            const now = new Date();
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                weekday: 'long'
            };
            return now.toLocaleDateString('fa-IR', options);
        }

        // Ø±ÙˆØ² Ù‡ÙØªÙ‡ ÙØ§Ø±Ø³ÛŒ
        function getPersianWeekday() {
            const days = ['ÛŒÚ©Ø´Ù†Ø¨Ù‡', 'Ø¯ÙˆØ´Ù†Ø¨Ù‡', 'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡', 'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡', 'Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡', 'Ø¬Ù…Ø¹Ù‡', 'Ø´Ù†Ø¨Ù‡'];
            return days[new Date().getDay()];
        }

        // ØªØ§Ø±ÛŒØ® Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒØ¯ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ
        function getTodayKey() {
            const now = new Date();
            return now.toLocaleDateString('fa-IR');
        }

        // Ù„ÙˆØ¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        function loadData() {
            const saved = localStorage.getItem('personalProgressDashboard');
            if (saved) {
                const parsed = JSON.parse(saved);
                Object.assign(appData, parsed);
            }
            
            // Ø°Ø®ÛŒØ±Ù‡ Ù¾ÛŒØ´Ø±ÙØª Ø§Ù…Ø±ÙˆØ²
            const todayKey = getTodayKey();
            if (!appData.monthlyProgress) appData.monthlyProgress = {};
            if (!appData.monthlyProgress[todayKey]) {
                appData.monthlyProgress[todayKey] = 0;
            }
        }

        // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        function saveData() {
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾ÛŒØ´Ø±ÙØª Ø§Ù…Ø±ÙˆØ² Ù‚Ø¨Ù„ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡
            const todayProgress = calculateOverallProgress();
            const todayKey = getTodayKey();
            appData.monthlyProgress[todayKey] = todayProgress;
            
            localStorage.setItem('personalProgressDashboard', JSON.stringify(appData));
            updateAllProgress();
            updateChart();
        }

        // Ø±Ù†Ø¯Ø± ØªÙ…Ø§Ù… Ø¨Ø®Ø´â€ŒÙ‡Ø§
        function renderAllSections() {
            renderStudySection();
            renderInstagramSection();
            renderNutritionSection();
            renderWorkoutSection();
        }

        function renderStudySection() {
            const container = document.getElementById('studyTasks');
            container.innerHTML = appData.study.map(task => `
                <div class="task-item">
                    <div class="task-info">
                        <input type="checkbox" class="task-checkbox" id="${task.id}" 
                               ${task.checked ? 'checked' : ''} 
                               onchange="toggleCheckbox('study', '${task.id}')">
                        <label class="task-label" for="${task.id}">${task.label}</label>
                    </div>
                </div>
            `).join('');
        }

        function renderInstagramSection() {
            const container = document.getElementById('instagramTasks');
            container.innerHTML = appData.instagram.map(task => {
                if (task.type === 'counter') {
                    return `
                        <div class="task-item">
                            <div class="task-info">
                                <label class="task-label">${task.label}</label>
                            </div>
                            <div class="counter">
                                <button class="counter-btn" onclick="updateCounter('instagram', '${task.id}', -5)">-5</button>
                                <button class="counter-btn" onclick="updateCounter('instagram', '${task.id}', -1)">-</button>
                                <span class="counter-value">${task.value}</span>
                                <button class="counter-btn" onclick="updateCounter('instagram', '${task.id}', 1)">+</button>
                                <button class="counter-btn" onclick="updateCounter('instagram', '${task.id}', 5)">+5</button>
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="task-item">
                            <div class="task-info">
                                <input type="checkbox" class="task-checkbox" id="${task.id}" 
                                       ${task.checked ? 'checked' : ''} 
                                       onchange="toggleCheckbox('instagram', '${task.id}')">
                                <label class="task-label" for="${task.id}">${task.label}</label>
                            </div>
                        </div>
                    `;
                }
            }).join('');
        }

        function renderNutritionSection() {
            const container = document.getElementById('nutritionTasks');
            container.innerHTML = appData.nutrition.map(task => `
                <div class="task-item">
                    <div class="task-info">
                        <input type="checkbox" class="task-checkbox" id="${task.id}" 
                               ${task.checked ? 'checked' : ''} 
                               onchange="toggleCheckbox('nutrition', '${task.id}')">
                        <label class="task-label" for="${task.id}">${task.label}</label>
                    </div>
                </div>
            `).join('');
        }

        function renderWorkoutSection() {
            const today = getPersianWeekday();
            const todayWorkout = appData.workout.days[today] || [];
            const container = document.getElementById('workoutContent');
            
            container.innerHTML = `
                <div style="margin-bottom: 15px; padding: 12px; background: rgba(67, 97, 238, 0.1); border-radius: 10px; text-align: center;">
                    <strong>Ø§Ù…Ø±ÙˆØ²: ${today}</strong>
                    <div style="font-size: 0.9rem; color: #666; margin-top: 5px;">${getWorkoutTitle(today)}</div>
                </div>
                ${todayWorkout.map(exercise => `
                    <div class="workout-exercise">
                        <div class="task-item">
                            <div class="task-info">
                                <input type="checkbox" class="task-checkbox" id="${exercise.id}" 
                                       ${exercise.checked ? 'checked' : ''} 
                                       onchange="toggleWorkoutExercise('${today}', '${exercise.id}')">
                                <div style="flex: 1;">
                                    <div class="exercise-name">${exercise.name}</div>
                                    <div class="exercise-sets">${exercise.sets}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        function getWorkoutTitle(day) {
            const titles = {
                'Ø´Ù†Ø¨Ù‡': 'Ø³ÛŒÙ†Ù‡ Ùˆ Ú©ÙˆÙ„ Ù¾Ø´Øª Ø´Ø§Ù†Ù‡',
                'ÛŒÚ©Ø´Ù†Ø¨Ù‡': 'Ø¬Ù„Ùˆ Ø¨Ø§Ø²Ùˆ Ø³Ø± Ø´Ø§Ù†Ù‡',
                'Ø¯ÙˆØ´Ù†Ø¨Ù‡': 'Ø§Ø³ØªØ±Ø§Ø­Øª ÙˆØ±Ø²Ø´ÛŒ',
                'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡': 'Ù¾Ø§ Ùˆ Ú©Ù…Ø±',
                'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡': 'Ø²ÛŒØ± Ø¨ØºÙ„ Ùˆ Ù¾Ø´Øª Ø¨Ø§Ø²Ùˆ',
                'Ù¾Ù†Ø¬Ø´Ù†Ø¨Ù‡': 'Ù¾Ø§ÛŒÛŒÙ† Ø³ÛŒÙ†Ù‡ Ùˆ Ø´Ú©Ù…',
                'Ø¬Ù…Ø¹Ù‡': 'ØªÙ†ÙØ³ Ùˆ Ø±ÛŒÚ©Ø§ÙˆØ±ÛŒ'
            };
            return titles[day] || '';
        }

        // ØªÙˆØ§Ø¨Ø¹ ØªØ¹Ø§Ù…Ù„ÛŒ
        function toggleCheckbox(section, taskId) {
            const task = appData[section].find(t => t.id === taskId);
            if (task) {
                task.checked = !task.checked;
                saveData();
            }
        }

        function toggleWorkoutExercise(day, exerciseId) {
            const exercise = appData.workout.days[day].find(e => e.id === exerciseId);
            if (exercise) {
                exercise.checked = !exercise.checked;
                saveData();
            }
        }

        function updateCounter(section, taskId, change) {
            const task = appData[section].find(t => t.id === taskId);
            if (task) {
                task.value = Math.max(0, task.value + change);
                saveData();
            }
        }

        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾ÛŒØ´Ø±ÙØª
        function calculateOverallProgress() {
            const sections = ['study', 'instagram', 'nutrition', 'workout'];
            let totalProgress = 0;
            let sectionCount = 0;

            sections.forEach(section => {
                let progress = 0;
                
                if (section === 'workout') {
                    const today = getPersianWeekday();
                    const todayWorkout = appData.workout.days[today] || [];
                    const total = todayWorkout.length;
                    const completed = todayWorkout.filter(ex => ex.checked).length;
                    progress = total > 0 ? Math.round((completed / total) * 100) : 0;
                } else {
                    const tasks = appData[section];
                    const total = tasks.length;
                    const completed = tasks.filter(task => {
                        if (task.type === 'counter') {
                            return task.value >= task.target;
                        }
                        return task.checked;
                    }).length;
                    progress = total > 0 ? Math.round((completed / total) * 100) : 0;
                }
                
                totalProgress += progress;
                sectionCount++;
            });

            return Math.round(totalProgress / sectionCount);
        }

        function updateAllProgress() {
            updateSectionProgress('study');
            updateSectionProgress('instagram');
            updateSectionProgress('nutrition');
            updateSectionProgress('workout');
            updateOverallProgress();
        }

        function updateSectionProgress(section) {
            let progress = 0;
            
            if (section === 'workout') {
                const today = getPersianWeekday();
                const todayWorkout = appData.workout.days[today] || [];
                const total = todayWorkout.length;
                const completed = todayWorkout.filter(ex => ex.checked).length;
                progress = total > 0 ? Math.round((completed / total) * 100) : 0;
            } else {
                const tasks = appData[section];
                const total = tasks.length;
                const completed = tasks.filter(task => {
                    if (task.type === 'counter') {
                        return task.value >= task.target;
                    }
                    return task.checked;
                }).length;
                progress = total > 0 ? Math.round((completed / total) * 100) : 0;
            }
            
            const progressBar = document.getElementById(`${section}Progress`);
            const progressText = document.getElementById(`${section}ProgressText`);
            
            if (progressBar && progressText) {
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${progress}%`;
            }
        }

        function updateOverallProgress() {
            const overallProgress = calculateOverallProgress();
            const overallBar = document.getElementById('overallProgress');
            const overallText = document.getElementById('overallProgressText');
            
            if (overallBar && overallText) {
                overallBar.style.width = `${overallProgress}%`;
                overallText.textContent = `${overallProgress}%`;
            }
        }

        // Ù†Ù…ÙˆØ¯Ø§Ø± Ù¾ÛŒØ´Ø±ÙØª Ù…Ø§Ù‡Ø§Ù†Ù‡
        let progressChart = null;

        function updateChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            const monthlyData = appData.monthlyProgress || {};
            
            // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ 30 Ø±ÙˆØ² Ø§Ø®ÛŒØ±
            const labels = [];
            const data = [];
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateKey = date.toLocaleDateString('fa-IR');
                labels.push(dateKey);
                data.push(monthlyData[dateKey] || 0);
            }

            if (progressChart) {
                progressChart.destroy();
            }

            progressChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Ù¾ÛŒØ´Ø±ÙØª Ø±ÙˆØ²Ø§Ù†Ù‡ (%)',
                        data: data,
                        borderColor: '#4361ee',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Ù¾ÛŒØ´Ø±ÙØª 30 Ø±ÙˆØ² Ø§Ø®ÛŒØ±'
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Ø±ÛŒØ³Øª Ø±ÙˆØ²Ø§Ù†Ù‡
        function resetDay() {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù…Ø±ÙˆØ² Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ')) {
                ['study', 'instagram', 'nutrition'].forEach(section => {
                    appData[section].forEach(task => {
                        task.checked = false;
                        if (task.value) task.value = 0;
                    });
                });
                
                const today = getPersianWeekday();
                if (appData.workout.days[today]) {
                    appData.workout.days[today].forEach(exercise => {
                        exercise.checked = false;
                    });
                }
                
                saveData();
                renderAllSections();
                alert('Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ù…Ø±ÙˆØ² Ø±ÛŒØ³Øª Ø´Ø¯! ğŸ’ª');
            }
        }

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        function init() {
            document.getElementById('currentDate').textContent = `Ø§Ù…Ø±ÙˆØ²: ${getPersianDate()}`;
            loadData();
            renderAllSections();
            updateAllProgress();
            updateChart();
        }

        // Ø§Ø¬Ø±Ø§ Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
